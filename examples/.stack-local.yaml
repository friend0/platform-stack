stack:
  name: app
environments:
  - name: local
    context: minikube
    activation:
      context: minikube
  - name: ci
    context: minikube
    activation:
      context: minikube
      env: ENV=ci
  - name: staging
    context: platform-stg-blue
    activation:
      context: platform-stg-blue
      env: ENV=staging
components:
  - name: config
    requiredVariables:
      - ENV
    manifests:
      - ./deployments/config-local.env
  - name: app
    requiredVariables:
      - PWD
      - HOME
    exposable: true
    containers:
      - dockerfile: ./containers/app/Dockerfile
        context: ./containers/app
        image: stack-app
    manifests:
      - ./deployments/app.yaml
postgres_deployment: postgres
env_prefix: examples